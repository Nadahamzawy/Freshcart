import{a as N}from"./chunk-DRZEY6VU.js";import{a as q,b as p,c as P,d as y,h as F,i as A,j as V,k as D,m as I}from"./chunk-EN3TMZMY.js";import{c as T}from"./chunk-32RMYXYN.js";import"./chunk-6AUBK3KX.js";import"./chunk-H455QME5.js";import{Cb as l,Db as R,Jb as b,Ma as m,X as E,_ as v,bb as s,db as S,hb as d,lb as i,mb as t,nb as u,ub as w,vb as g}from"./chunk-EFTTM5UD.js";import"./chunk-CWTPBX7D.js";function G(e,o){e&1&&(i(0,"p",17),l(1,"Name Is Required"),t())}function B(e,o){e&1&&(i(0,"p",17),l(1,"Name Should be more than or equal 3 chars"),t())}function M(e,o){e&1&&(i(0,"p",17),l(1,"Name Should be less than or equal 20 chars"),t())}function k(e,o){if(e&1&&(i(0,"div",6),s(1,G,2,0,"p",17)(2,B,2,0)(3,M,2,0),t()),e&2){let n,r=g();m(),d(1,(n=r.registerform.get("name"))!=null&&n.getError("required")?1:(n=r.registerform.get("name"))!=null&&n.getError("minlength")?2:(n=r.registerform.get("name"))!=null&&n.getError("maxlength")?3:-1)}}function L(e,o){e&1&&(i(0,"p",17),l(1,"Email Is Required"),t())}function $(e,o){e&1&&(i(0,"p",17),l(1,"Enter Valid Email"),t())}function j(e,o){if(e&1&&(i(0,"div",6),s(1,L,2,0,"p",17)(2,$,2,0),t()),e&2){let n,r=g();m(),d(1,(n=r.registerform.get("email"))!=null&&n.getError("required")?1:(n=r.registerform.get("email"))!=null&&n.getError("email")?2:-1)}}function O(e,o){e&1&&(i(0,"p",17),l(1,"password Is Required"),t())}function z(e,o){e&1&&(i(0,"p",17),l(1,"Enter Valid password"),t())}function H(e,o){if(e&1&&(i(0,"div",6),s(1,O,2,0,"p",17)(2,z,2,0),t()),e&2){let n,r=g();m(),d(1,(n=r.registerform.get("password"))!=null&&n.getError("required")?1:(n=r.registerform.get("password"))!=null&&n.getError("pattern")?2:-1)}}function J(e,o){e&1&&(i(0,"p",13),l(1," Password confirmation is incorrect "),t())}function K(e,o){e&1&&(i(0,"p",17),l(1,"phone Is Required"),t())}function Q(e,o){e&1&&(i(0,"p",17),l(1,"Enter Valid phone"),t())}function U(e,o){if(e&1&&(i(0,"div",6),s(1,K,2,0,"p",17)(2,Q,2,0),t()),e&2){let n,r=g();m(),d(1,(n=r.registerform.get("phone"))!=null&&n.getError("required")?1:(n=r.registerform.get("phone"))!=null&&n.getError("pattern")?2:-1)}}function W(e,o){e&1&&(i(0,"span"),u(1,"i",18),t())}function X(e,o){if(e&1&&(i(0,"p",13),l(1),t()),e&2){let n=g();m(),R(n.msgError)}}var oe=(()=>{let o=class o{constructor(){this._AuthService=E(N),this._FormBuilder=E(D),this._Router=E(T),this.msgError="",this.isloading=!1,this.registerform=this._FormBuilder.group({name:[null,[p.required,p.minLength(3),p.maxLength(20)]],email:[null,[p.required,p.email]],password:[null,[p.required,p.pattern(/^\w{6,}$/)]],rePassword:[null],phone:[null,[p.required,p.pattern(/^01[0125][0-9]{8}$/)]]},{validators:this.confirmPassword})}confirmPassword(r){return r.get("password")?.value===r.get("rePassword")?.value?null:{mismatch:!0}}registerSubmit(){this.registerform.valid?(this.isloading=!0,this.registerSub=this._AuthService.setregisterform(this.registerform.value).subscribe({next:r=>{console.log(r),r.message=="success"&&this._Router.navigate(["/login"]),this.isloading=!1},error:r=>{this.msgError=r.error.message,console.log(r),this.isloading=!1}})):(this.registerform.setErrors({mismatch:!0}),this.registerform.markAllAsTouched())}ngOnDestroy(){this.registerSub?.unsubscribe()}};o.\u0275fac=function(c){return new(c||o)},o.\u0275cmp=v({type:o,selectors:[["app-register"]],standalone:!0,features:[b],decls:33,vars:8,consts:[[1,"p-2","m-2","rounded-4"],[1,"h2","text-main","p-4"],[3,"ngSubmit","formGroup"],[1,"my-2"],["for","name"],["type","text","id","name","formControlName","name",1,"form-control"],[1,"alert","alert-danger","w-50"],["for","email"],["type","email","id","email","formControlName","email",1,"form-control"],["for","password"],["type","password","id","password","formControlName","password",1,"form-control"],["for","rePassword"],["type","password","id","rePassword","formControlName","rePassword",1,"form-control"],[1,"alert","alert-danger","w-50","m-0"],["for","phone"],["type","tel","id","phone","formControlName","phone",1,"form-control"],[1,"btn-main","ms-auto","d-block"],[1,"m-0"],[1,"fas","fa-spin","fa-spinner"]],template:function(c,a){if(c&1&&(i(0,"section",0)(1,"h1",1),l(2,"Register Now:"),t(),i(3,"form",2),w("ngSubmit",function(){return a.registerSubmit()}),i(4,"div",3)(5,"label",4),l(6,"Name :"),t(),u(7,"input",5),s(8,k,4,1,"div",6),t(),i(9,"div",3)(10,"label",7),l(11,"Email :"),t(),u(12,"input",8),s(13,j,3,1,"div",6),t(),i(14,"div",3)(15,"label",9),l(16,"Password :"),t(),u(17,"input",10),s(18,H,3,1,"div",6),t(),i(19,"div",3)(20,"label",11),l(21,"Re-Password :"),t(),u(22,"input",12),s(23,J,2,0,"p",13),t(),i(24,"div",3)(25,"label",14),l(26,"Phone :"),t(),u(27,"input",15),s(28,U,3,1,"div",6),t(),i(29,"button",16),l(30," Register "),s(31,W,2,0,"span"),t(),s(32,X,2,1,"p",13),t()()),c&2){let f,_,C,x,h;m(3),S("formGroup",a.registerform),m(5),d(8,(f=a.registerform.get("name"))!=null&&f.errors&&((f=a.registerform.get("name"))!=null&&f.touched)?8:-1),m(5),d(13,(_=a.registerform.get("email"))!=null&&_.errors&&((_=a.registerform.get("email"))!=null&&_.touched)?13:-1),m(5),d(18,(C=a.registerform.get("password"))!=null&&C.errors&&((C=a.registerform.get("password"))!=null&&C.touched)?18:-1),m(5),d(23,a.registerform.getError("mismatch")&&((x=a.registerform.get("rePassword"))!=null&&x.touched)?23:-1),m(5),d(28,(h=a.registerform.get("phone"))!=null&&h.errors&&((h=a.registerform.get("phone"))!=null&&h.touched)?28:-1),m(3),d(31,a.isloading?31:-1),m(),d(32,a.msgError?32:-1)}},dependencies:[I,F,q,P,y,A,V]});let e=o;return e})();export{oe as RegisterComponent};
