import{a as L}from"./chunk-CWWY3YV2.js";import{l as k}from"./chunk-XF2Y3HXU.js";import{a as y}from"./chunk-SLTK32QX.js";import{a as B}from"./chunk-MLJNFS6B.js";import"./chunk-6AUBK3KX.js";import"./chunk-H455QME5.js";import{Cb as c,Db as S,Eb as W,Ia as x,Jb as T,Ma as l,X as d,_,db as b,ia as h,ja as f,jb as w,kb as C,lb as o,mb as n,nb as u,qb as g,ub as p,vb as v}from"./chunk-EFTTM5UD.js";import{e as F}from"./chunk-CWTPBX7D.js";var m=F(B());var D=(r,i)=>i.id;function V(r,i){if(r&1){let a=g();o(0,"div",2)(1,"div",3)(2,"div"),u(3,"img",4),n()(),o(4,"div",5)(5,"div")(6,"h3",6),c(7),n(),o(8,"p",7),c(9),n(),o(10,"button",8),p("click",function(){let e=h(a).$implicit,s=v();return f(s.confirmBox(e.id))}),u(11,"i",9),c(12," Remove "),n()(),o(13,"div",10)(14,"button",11),p("click",function(){let e=h(a).$implicit,s=v();return f(s.addcart(e.id))}),c(15," Add To Cart + "),n()()()()}if(r&2){let a=i.$implicit;l(3),b("src",a.imageCover,x),l(4),S(a.title),l(2),W("price: ",a.price,"")}}var N=(()=>{let i=class i{constructor(){this._WishlistService=d(L),this._CartService=d(y),this._ToastrService=d(k),this.WishList=[],this.wishlist=[]}ngOnInit(){this._WishlistService.getproducToWishList().subscribe({next:t=>{console.log(t.data),this.WishList=t.data}})}addcart(t){this._CartService.addProductToCart(t).subscribe({next:e=>{console.log(e),this._ToastrService.success(e.message,"FreshCart"),this._CartService.CartNumber.set(e.numOfCartItems)}})}removeitemfromWishlist(t){this._WishlistService.deleteitemfromWishList(t).subscribe({next:e=>{console.log(e),this.wishlist=e.data;let s=this.WishList.filter(E=>this.wishlist.includes(E._id));this.WishList=s}})}confirmBox(t){m.default.fire({title:"Are you sure want to remove?",text:"You will not be able to recover this file!",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete it!",cancelButtonText:"No, keep it"}).then(e=>{e.value?(m.default.fire("Deleted!","Your imaginary file has been deleted.","success"),this.removeitemfromWishlist(t)):e.dismiss===m.default.DismissReason.cancel&&m.default.fire("Cancelled","Your imaginary file is safe :)","error")})}};i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=_({type:i,selectors:[["app-wishlist"]],standalone:!0,features:[T],decls:5,vars:0,consts:[[1,"bg-main-light","shadow","rounded-4","mx-auto","w-75","p-4","my-5"],[1,"fa-2xl","my-5"],[1,"row","mb-2","border-bottom"],[1,"col-md-2"],["alt","",1,"w-100",3,"src"],[1,"col-md-10","d-flex","align-items-center","justify-content-between"],[1,"h5"],[1,"m-0","text-main"],[1,"text-danger","btn","p-0","cr","my-2",3,"click"],[1,"fa-solid","fa-trash"],[1,"d-flex","align-items-center","gap-2"],[1,"btn","btn-info",3,"click"]],template:function(e,s){e&1&&(o(0,"section",0)(1,"h2",1),c(2,"My wish List"),n(),w(3,V,16,3,"div",2,D),n()),e&2&&(l(3),C(s.WishList))}});let r=i;return r})();export{N as WishlistComponent};
