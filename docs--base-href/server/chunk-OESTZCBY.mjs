import './polyfills.server.mjs';
import{a as y}from"./chunk-EXJZTPRA.mjs";import{a as T,b as u,c as L,d as F,h as N,i as A,j as R,k,m as q}from"./chunk-CIRMQGFB.mjs";import"./chunk-EDOPUDTE.mjs";import{d as w,e as b}from"./chunk-FG3AUJKH.mjs";import"./chunk-V443I64Y.mjs";import"./chunk-YJATQK5N.mjs";import{$ as C,Fb as r,Gb as S,Mb as x,Pa as m,X as c,eb as s,gb as v,kb as d,ob as i,pb as t,qb as _,xb as E,yb as h}from"./chunk-Z7GZ3Q2P.mjs";import"./chunk-VVCT4QZE.mjs";function D(e,n){e&1&&(i(0,"p",13),r(1,"Email Is Required"),t())}function V(e,n){e&1&&(i(0,"p",13),r(1,"Enter Valid Email"),t())}function G(e,n){if(e&1&&(i(0,"div",6),s(1,D,2,0,"p",13)(2,V,2,0),t()),e&2){let l,o=h();m(),d(1,(l=o.loginform.get("email"))!=null&&l.getError("required")?1:(l=o.loginform.get("email"))!=null&&l.getError("email")?2:-1)}}function I(e,n){e&1&&(i(0,"p",13),r(1,"password Is Required"),t())}function B(e,n){e&1&&(i(0,"p",13),r(1,"Enter Valid password"),t())}function M(e,n){if(e&1&&(i(0,"div",6),s(1,I,2,0,"p",13)(2,B,2,0),t()),e&2){let l,o=h();m(),d(1,(l=o.loginform.get("password"))!=null&&l.getError("required")?1:(l=o.loginform.get("password"))!=null&&l.getError("pattern")?2:-1)}}function j(e,n){e&1&&(i(0,"span"),_(1,"i",14),t())}function P(e,n){if(e&1&&(i(0,"p",12),r(1),t()),e&2){let l=h();m(),S(l.msgError)}}var Q=(()=>{let n=class n{constructor(){this._AuthService=c(y),this._FormBuilder=c(k),this._Router=c(w),this.msgError="",this.isloading=!1,this.loginform=this._FormBuilder.group({email:[null,[u.required,u.email]],password:[null,[u.required,u.pattern(/^\w{6,}$/)]]})}loginSubmit(){this.loginform.valid?(this.isloading=!0,this._AuthService.setloginform(this.loginform.value).subscribe({next:o=>{console.log(o),o.message=="success"&&(localStorage.setItem("userToken",o.token),this._AuthService.SaveUserData(),this._Router.navigate(["/home"])),this.isloading=!1},error:o=>{this.msgError=o.error.message,console.log(o),this.isloading=!1}})):(this.loginform.setErrors({mismatch:!0}),this.loginform.markAllAsTouched())}};n.\u0275fac=function(g){return new(g||n)},n.\u0275cmp=C({type:n,selectors:[["app-login"]],standalone:!0,features:[x],decls:21,vars:6,consts:[[1,"container","my-5"],[1,"h2","text-main"],[3,"ngSubmit","formGroup"],[1,"my-2"],["for","email"],["type","email","id","email","formControlName","email",1,"form-control"],[1,"alert","alert-danger","w-50"],["for","password"],["type","password","id","password","formControlName","password",1,"form-control"],[1,"d-flex","align-items-center","justify-content-end","gap-5"],["routerLink","/forgot",1,"link-primary"],["type","submit",1,"btn-main",3,"disabled"],[1,"alert","alert-danger","w-50","m-0"],[1,"m-0"],[1,"fas","fa-spin","fa-spinner"]],template:function(g,a){if(g&1&&(i(0,"section",0)(1,"h1",1),r(2,"login Now:"),t(),i(3,"form",2),E("ngSubmit",function(){return a.loginSubmit()}),i(4,"div",3)(5,"label",4),r(6,"email:"),t(),_(7,"input",5),s(8,G,3,1,"div",6),t(),i(9,"div",3)(10,"label",7),r(11,"password :"),t(),_(12,"input",8),s(13,M,3,1,"div",6),t(),i(14,"div",9)(15,"a",10),r(16,"Forgot your Pssword ?"),t(),i(17,"button",11),r(18," login "),s(19,j,2,0,"span"),t()(),s(20,P,2,1,"p",12),t()()),g&2){let p,f;m(3),v("formGroup",a.loginform),m(5),d(8,(p=a.loginform.get("email"))!=null&&p.errors&&((p=a.loginform.get("email"))!=null&&p.touched)?8:-1),m(5),d(13,(f=a.loginform.get("password"))!=null&&f.errors&&((f=a.loginform.get("password"))!=null&&f.touched)?13:-1),m(4),v("disabled",a.loginform.invalid||a.isloading),m(2),d(19,a.isloading?19:-1),m(),d(20,a.msgError?20:-1)}},dependencies:[q,N,T,L,F,A,R,b]});let e=n;return e})();export{Q as LoginComponent};
