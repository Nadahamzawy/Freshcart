import './polyfills.server.mjs';
import{a as $}from"./chunk-VFBG3OT7.mjs";import{a as J}from"./chunk-WSF6HVNA.mjs";import{a as O}from"./chunk-OA76ZR7T.mjs";import{a as U}from"./chunk-RYS6HWI2.mjs";import{a as z,c as G,g as R,l as q}from"./chunk-CIRMQGFB.mjs";import{a as H}from"./chunk-HQJU4LVT.mjs";import"./chunk-GTSSCL6B.mjs";import{a as D}from"./chunk-DE5OUPQD.mjs";import"./chunk-EDOPUDTE.mjs";import{e as j}from"./chunk-FG3AUJKH.mjs";import"./chunk-V443I64Y.mjs";import{o as N}from"./chunk-YJATQK5N.mjs";import{$ as F,Fb as d,Gb as _,Hb as L,Ib as E,Jb as M,Kb as A,La as k,Mb as I,Nb as V,Ob as B,Pa as o,Sb as b,Ub as y,X as l,_a as C,eb as v,gb as x,ja as f,ka as g,kb as u,lb as W,mb as S,nb as w,ob as a,pb as c,qb as p,tb as T,xb as P,yb as m}from"./chunk-Z7GZ3Q2P.mjs";import"./chunk-VVCT4QZE.mjs";var K=(i,r)=>r.id,Q=i=>["/details",i],X=()=>[1,2,3,4,5];function Y(i,r){i&1&&(a(0,"span"),p(1,"i",12),c())}function Z(i,r){i&1&&p(0,"i",9)}function ee(i,r){if(i&1){let n=T();a(0,"span")(1,"i",13),P("click",function(){f(n);let t=m().$implicit,s=m();return g(s.addtoWishlist(t.id))}),c()()}}function te(i,r){i&1&&(a(0,"span"),p(1,"i",14),c())}function ie(i,r){if(i&1){let n=T();a(0,"div",2)(1,"div",3)(2,"div",4),p(3,"img",5),a(4,"h3",6),d(5),c(),a(6,"h4",7),d(7),c(),a(8,"div",8)(9,"span"),d(10),b(11,"currency"),c(),a(12,"div"),S(13,Y,2,0,"span",null,W),v(15,Z,1,0,"i",9),a(16,"span",10),d(17),c()()()(),v(18,ee,2,0,"span")(19,te,2,0,"span"),a(20,"button",11),P("click",function(){let t=f(n).$implicit,s=m();return g(s.addcart(t.id))}),d(21," Add To Cart + "),c()()()}if(i&2){let n=r.$implicit,e=m();o(2),x("routerLink",B(13,Q,n.id)),o(),x("src",n.imageCover,k)("alt",n.title),o(2),_(n.category.name),o(2),_(n.title.split(" ",2).join(" ")),o(3),L("",y(11,10,n.price,"GBP")," "),o(3),w(V(15,X).slice(0,n.ratingsAverage)),o(2),u(15,n.ratingsAverage%1!==0?15:-1),o(2),_(n.ratingsAverage),o(),u(18,e.wishlist.includes(n.id)?-1:18),o(),u(19,e.wishlist.includes(n.id)?19:-1)}}var ve=(()=>{let r=class r{constructor(){this._ProductsService=l(O),this._CategoriesService=l(U),this._CartService=l(D),this._ToastrService=l(H),this._WishlistService=l(J),this.productsList=C([]),this.CategoriesList=C([]),this.text="",this.wishlist=[]}ngOnInit(){this._CategoriesService.getAllcategories().subscribe({next:e=>{console.log(e.data),this.CategoriesList.set(e.data)}}),this._ProductsService.getAllproduct().subscribe({next:e=>{console.log(e.data),this.productsList.set(e.data)}}),this._WishlistService.getproducToWishList().subscribe({next:e=>{console.log(e);let t=e.data.map(s=>s._id);this.wishlist=t}})}addcart(e){this._CartService.addProductToCart(e).subscribe({next:t=>{console.log(t),this._ToastrService.success(t.message,"FreshCart"),this._CartService.CartNumber.set(t.numOfCartItems)}})}addtoWishlist(e){this._WishlistService.addproductToWishlist(e).subscribe({next:t=>{console.log(t.data),this.wishlist=t.data,this._ToastrService.success(t.message,"Wishlist")}})}};r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=F({type:r,selectors:[["app-product"]],standalone:!0,features:[I],decls:6,vars:4,consts:[["type","search","placeholder","Search by Name.......",1,"form-control","w-75","mx-auto","my-5",3,"ngModelChange","ngModel"],[1,"row","g-3"],[1,"col-md-3"],[1,"product","p-2"],[3,"routerLink"],[1,"w-100",3,"src","alt"],[1,"small","text-main"],[1,"h6"],[1,"d-flex","justify-content-between","align-items-center"],[1,"fa-solid","fa-star-half-stroke","rating-color"],[1,"text-muted"],[1,"btn-main","w-100",3,"click"],[1,"fas","fa-star","rating-color"],[1,"far","fa-heart","heart",3,"click"],[1,"fas","fa-heart","heart",2,"color","black"]],template:function(t,s){t&1&&(a(0,"section")(1,"input",0),A("ngModelChange",function(h){return M(s.text,h)||(s.text=h),h}),c(),a(2,"div",1),S(3,ie,22,16,"div",2,K),b(5,"search"),c()()),t&2&&(o(),E("ngModel",s.text),o(2),w(y(5,1,s.productsList(),s.text)))},dependencies:[j,N,q,z,G,R,$]});let i=r;return i})();export{ve as ProductComponent};
